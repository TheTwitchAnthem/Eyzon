┌─────────────────────────────────────────────────────────────────────┐

│                            Запуск программы                         │

└───────────────────────┬─────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────┐

│ 1. Создание необходимых файлов (create_files())                     │

│    - Проверка и создание config.yml                                 │

│    - Проверка и создание папки logs                                 │

│    - Проверка и создание log.txt и user_log.txt                     │

└───────────────────────┬──────────────────────────┘
                        ↓
┌───────────────────────────────────────────────────┐

│ 2. Запись в лог о старте программы (debug())                        │

│    - Запись версии программы и времени запуска                      │

└───────────────────────┬───────────────────────────┘
                        ↓
┌──────────────────────────────────────────┐
│ 3. Загрузка конфигурации (load_config())                            │

│    - Чтение config.yml                                              │

│    - Парсинг в структуру Config                                     │

└───────────────────────┬─────────────────┘
                        ↓
┌─────────────────────────────────────────────────────┐

│ 4. Инициализация FileWatcher                                        │

│    - Передача конфигурации в FileWatcher::new()                     │

└───────────────────────┬────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────────────────┐

│ 5. Запуск мониторинга файловой системы (run() в watch.rs)           │

│                                                                     │

│    ┌───────────────┐    Обнаружение изменения    ┌───────────────┐  │

│    │  Наблюдение   │ ──────────────────────────> │  Фильтрация   │  │

│    │   за FS       │                             │   событий     │  │

│    └───────────────┘    (Create/Modify/Remove)   └───────┬───────┘  │

│                                                          ↓          │

│                                                  ┌────────────────┐ │

│                                                  │  Дебаунсинг    │ │

│                                                  │  (1 сек задерж)│ │

│                                                  └───────┬────────┘ │

│                                                          ↓          │

│                                                  ┌────────────────┐ │

│                                                  │  Логирование   │ │

│                                                  │  в консоль и   │ │

│                                                  │  файл лога     │ │

│                                                  └────────────────┘ │

└─────────────────────────────────────────────────────────────────────┘
